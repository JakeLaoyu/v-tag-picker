<template>
  <div class="demo">
    <div class="title">v-tag-picker</div>
    <h3 class="subtitle">ğŸ¦´ A cool mobile component of tag picker width vue.js
      <a href="https://github.com/JakeLaoyu/v-tag-picker">Github</a>
    </h3>
    <p>
      <a href="https://www.npmjs.com/package/v-tag-picker" rel="nofollow">
        <img
          src="https://camo.githubusercontent.com/6d568bc6b16ff3247b8880e521e9e4522d9b6e55/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f762d7461672d7069636b65722e7376673f7374796c653d666c61742d737175617265"
          alt="npm"
          data-canonical-src="https://img.shields.io/npm/v/v-tag-picker.svg?style=flat-square"
          style="max-width:100%;"
        >
      </a>
      <a href="https://www.npmjs.com/package/v-tag-picker" rel="nofollow">
        <img
          src="https://camo.githubusercontent.com/ad71ecec36373d405abafeaa803280587bec9c60/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f64742f762d7461672d7069636b65722e7376673f7374796c653d666c61742d737175617265"
          alt="npm"
          data-canonical-src="https://img.shields.io/npm/dt/v-tag-picker.svg?style=flat-square"
          style="max-width:100%;"
        >
      </a>
      <a href="https://github.com/jakelaoyu/v-tag-picker/blob/master/LICENSE">
        <img
          src="https://camo.githubusercontent.com/b1ee47e981370879d7d1f5e30947cff1b0de5d85/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f6c2f762d7461672d7069636b65722e7376673f7374796c653d666c61742d737175617265"
          alt="npm"
          data-canonical-src="https://img.shields.io/npm/l/v-tag-picker.svg?style=flat-square"
          style="max-width:100%;"
        >
      </a>
    </p>
    <div class="demo__container">
      <div class="demo__code">
        <pre v-highlightjs>
          <code class="vue">
&lt;template&gt;
  &lt;v-tag-picker
    :totalData="tagData"
    :selectedData="selectedData"
    @change="change"
  &gt;
    &lt;div class="img-wrap" slot="top"&gt;
      &lt;img class="" src="~@/assets/tagbg.png" alt=""&gt;
      &lt;div class="img-wrap__title"&gt;æœ€æ„Ÿå…´è¶£çš„æ ç›®&lt;/div&gt;
      &lt;div class="img-wrap__subtitle"&gt;å®šåˆ¶ä¸“å±äºæˆ‘çš„è¯¾ç¨‹æ ç›®&lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="footer" slot="footer"&gt;
      &lt;a href="#"&gt;è¿›å…¥é¦–é¡µ&lt;/a&gt;
    &lt;/div&gt;
  &lt;/v-tag-picker&gt;
&lt;/template&gt;

&lt;script&gt;
import { vTagPicker } from 'v-tag-picker'
export default {
  name: 'app',
  components: {
    vTagPicker
  },
  data () {
    return {
      tagData: Array.from(new Array(100), (val, index) => ({ name: `${index}` })),
      selectedData: Array.from(new Array(2), (val, index) => ({ name: `${index}` }))
    }
  },
  methods: {
    change (val) {
      console.log(val)
    }
  }
}
&lt;/script&gt;
          </code>
        </pre>
      </div>

      <div class="demo__iframe">
        <iframe src="#test" frameborder="0"></iframe>
      </div>
    </div>
    <canvas id="Evan"></canvas>
  </div>
</template>
<script>
export default {
  data () {
    return {}
  },
  mounted () {
    // å½©å¸¦
    // åˆå§‹åŒ–å˜é‡
    let c = document.getElementsByTagName('canvas')[0]
    let x = c.getContext('2d')
    let pr = window.devicePixelRatio || 1 // è®¾ç½®åƒç´ æ¯”
    let w = window.innerWidth
    let h = window.innerHeight
    let f = 90
    let q
    let m = Math
    let r = 0
    let u = m.PI * 2 // Math.PI*2
    let v = m.cos // ä½™å¼¦å€¼
    let z = m.random // éšæœºæ•°å€¼
    c.width = w * pr // è®¾ç½® Canvas å®½åº¦ä¸ºå¯è§†çª—å£çš„å®½åº¦*åƒç´ æ¯”
    c.height = h * pr // è®¾ç½® Canvas é«˜åº¦ä¸ºå¯è§†çª—å£çš„é«˜åº¦*åƒç´ æ¯”
    x.scale(pr, pr) // ç¼©æ”¾ Canvas pr = 1 = 100%
    x.globalAlpha = 0.6 // è®¾ç½® Canvas é€æ˜åº¦
    // å¾ªç¯å‡½æ•°
    function i () {
      x.clearRect(0, 0, w, h) // æ¸…ç©ºçŸ©å½¢
      // æ•°ç»„å˜é‡å¯¹è±¡
      q = [{
        x: 0,
        y: h * 0.7 + f
      }, {
        x: 0,
        y: h * 0.7 - f
      }]
      // å¾ªç¯ï¼Œ0 < å¯è§†çª—å£å®½åº¦+90
      while (q[1].x < w + f) {
        d(q[0], q[1]) // ç»˜åˆ¶å‡½æ•°ä¼ å‚
      }
    }
    // ç»˜åˆ¶å‡½æ•°ä¼ å‚ï¼Œi å’Œ j å‡æœ‰ä¸€ä¸ª x ä¸ y æ•°å€¼å¯¹è±¡
    function d (i, j) {
      x.beginPath() // å¼€å§‹è·¯å¾„
      x.moveTo(i.x, i.y) // ç§»åŠ¨è·¯å¾„
      x.lineTo(j.x, j.y) // åˆ›å»ºçº¿æ¡
      var k = j.x + (z() * 2 - 0.25) * f // é‡æ–°å®šä¹‰æ•°ç»„å¯¹è±¡ q[1] çš„å˜é‡å¯¹è±¡ï¼Œz() éšæœºæ•°å€¼
      var n = y(j.y) // å°† y() ä¼ å‚å‡½æ•°èµ‹å€¼ç»™ n
      x.lineTo(k, n) // åˆ›å»ºçº¿æ¡
      x.closePath() // å…³é—­è·¯å¾„
      r -= u / -50
      // å¡«å……é¢œè‰²ï¼ŒtoString(16)è½¬æ¢ä¸º16è¿›åˆ¶é¢œè‰²å€¼
      // å…³äºï¼ˆ<< ä¸ |ï¼‰ä½è¿ç®—æ“ä½œå‚è€ƒï¼šhttp://www.w3school.com.cn/js/pro_js_operators_bitwise.asp
      x.fillStyle = '#' + (v(r) * 127 + 128 << 16 | v(r + u / 3) * 127 + 128 << 8 | v(r + u / 3 * 2) * 127 + 128).toString(
        16)
      x.fill()
      // é‡æ–°å®šä¹‰æ•°ç»„å¯¹è±¡ï¼Œå¢åŠ æ— é™å¯å˜æ€§
      q[0] = q[1]
      q[1] = {
        x: k,
        y: n
      }
    }
    // ä¼ å‚å‡½æ•° return è¿”å›æ•°å€¼
    function y (p) {
      var t = p + (z() * 2 - 1.1) * f // z() éšæœºæ•°å€¼
      return (t > h || t < 0) ? y(p) : t // åˆ¤æ–­åè¿”å›ä¸åŒæ•°å€¼åå¢åŠ äº†æ›´å¤šçš„å¯å˜æ€§
    }
    // ç‚¹å‡»ä¸è§¦æ‘¸æ—¶æ‰§è¡Œ i() å‡½æ•°
    document.onclick = i
    i()
  }
}
</script>
<style scoped lang="less">
#Evan {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
}

.demo {
  &__container {
    display: flex;
    justify-content: center;
    align-items: stretch;
  }
}

.hljs {
  border: 1px solid #eee;
  width: 414px;
  margin: 0 auto;
  box-sizing: border-box;
  border-radius: 5px;
  text-align: left;
  max-width: 90%;
  font-size: 13px;
}
iframe {
  border: 1px solid #eee;
  display: inline-block;
  width: 414px;
  height: 736px;
  margin: 0 auto;
}
.title {
  font-size: 45px;
  color: #42b983;
}
.subtitle {
  a {
    color: #42b983;
  }
}
</style>
